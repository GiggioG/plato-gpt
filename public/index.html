<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plato's chat</title>
    <link rel="stylesheet" href="https://cdn.metroui.org.ua/4.5.4/metro.css">
</head>

<body>
    <div data-role="chat" data-title="Chat with Plato" data-name="You" data-on-chat-create="onChatCreate" data-on-send="onSend"></div>
    <script src="https://cdn.metroui.org.ua/4.5.4/metro.js"></script>
    <script>
        const platoPfp = `data:image/png;base64,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`;

        let ws = null, chatDiv = null, waiting = null;
        function onChatCreate() {
            ws = new WebSocket(`ws://${location.host}`);
            ws.addEventListener("message", message => {
                receiveMessage(message.data);
            });
        }
        function receiveMessage(msg) {
            let newMsg = {
                time: new Date(),
                text: msg,
                position: "left",
                name: "Plato",
                avatar: platoPfp,
                id: waiting
            };
            debugger;
            chatDiv.updMessage(newMsg);
            waiting = null;
        }
        function onSend(msg) {
            if(chatDiv == null){
                chatDiv = Metro.getPlugin(`div[data-role=chat]`, `chat`);

                /// patch bug
                let newcode = chatDiv.updMessage.toString().replace(".message-text", ".message-text-inner");
                newcode = newcode.replace("e.time", "datetime(e.time).format(this.options.timeFormat)");
                chatDiv.updMessage = eval(`(${newcode})`);
            }
            if (waiting != null) {
                chatDiv.delMessage(msg.id);
                chatDiv.elem.querySelector("input[type=text]").value = msg.text;
                return;
            }
            ws.send(msg.text);
            let newMsg = {
                time: new Date(),
                text: `...`,
                position: "left",
                name: "Plato",
                avatar: platoPfp,
                id: `${msg.id}-r`
            };
            waiting = newMsg.id;
            chatDiv.add(newMsg);
        }
    </script>
</body>

</html>